!function(m){"use strict";m.fn.counterUp=function(t){var p,h=m.extend({time:400,delay:10,offset:100,beginAt:0,formatter:!1,context:"window",callback:function(){}},t);return this.each(function(){var l=m(this),d={time:m(this).data("counterup-time")||h.time,delay:m(this).data("counterup-delay")||h.delay,offset:m(this).data("counterup-offset")||h.offset,beginAt:m(this).data("counterup-beginat")||h.beginAt,context:m(this).data("counterup-context")||h.context};l.waypoint(function(t){!function(){var t=[],e=d.time/d.delay,a=m(this).attr("data-num")?m(this).attr("data-num"):l.text(),n=/[0-9]+,[0-9]+/.test(a),u=((a=a.replace(/,/g,"")).split(".")[1]||[]).length;d.beginAt>a&&(d.beginAt=a);var o=/[0-9]+:[0-9]+:[0-9]+/.test(a);if(o){var r=a.split(":"),i=1;for(p=0;0<r.length;)p+=i*parseInt(r.pop(),10),i*=60}for(var c=e;c>=d.beginAt/a*e;c--){var s,f=parseFloat(a/e*c).toFixed(u);if(o&&(f=parseInt(p/e*c),f=((s=parseInt(f/3600)%24)<10?"0"+s:s)+":"+((s=parseInt(f/60)%60)<10?"0"+s:s)+":"+((s=parseInt(f%60,10))<10?"0"+s:s)),n)for(;/(\d+)(\d{3})/.test(f.toString());)f=f.toString().replace(/(\d+)(\d{3})/,"$1,$2");h.formatter&&(f=h.formatter.call(this,f)),t.unshift(f)}l.data("counterup-nums",t),l.text(d.beginAt);l.data("counterup-func",function(){l.data("counterup-nums")?(l.html(l.data("counterup-nums").shift()),l.data("counterup-nums").length?setTimeout(l.data("counterup-func"),d.delay):(l.data("counterup-nums",null),l.data("counterup-func",null),h.callback.call(this))):h.callback.call(this)}),setTimeout(l.data("counterup-func"),d.delay)}(),this.destroy()},{offset:d.offset+"%",context:d.context})})}}(jQuery);